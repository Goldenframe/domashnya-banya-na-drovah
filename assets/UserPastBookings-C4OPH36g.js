import{b,r as m,j as e}from"./index-DLtIAKWy.js";/* empty css              */import{F as n,b as o,c as d}from"./index-C2T_mn8s.js";function D(){const{bookings:j}=b(),[c,p]=m.useState(""),[l,h]=m.useState("asc"),r=new Date,u=j.filter(t=>{const a=new Date(t.booking_date),s=new Date(t.start_time);return a<r||a.toDateString()===r.toDateString()&&s<r}),i=t=>{c===t?h(l==="asc"?"desc":"asc"):(p(t),h("asc"))},x=[...u].sort((t,a)=>{let s=0;switch(c){case"date":s=new Date(t.booking_date)-new Date(a.booking_date);break;case"price":s=t.price-a.price;break;case"discount":s=(t.discount_status?1:0)-(a.discount_status?1:0);break;default:return 0}return l==="asc"?s:-s});return e.jsx("div",{className:"table-container",children:x.length>0?e.jsxs("table",{className:"accessible-table",role:"grid","aria-labelledby":"past-bookings-title",children:[e.jsx("caption",{id:"past-bookings-title",children:"Прошедшие бронирования"}),e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsxs("th",{scope:"col",onClick:()=>i("date"),className:"sortable",children:["Дата",e.jsx(n,{icon:c==="date"&&l==="asc"?o:d,className:"sort-icon",title:"Сортируй по дате"})]}),e.jsx("th",{scope:"col",children:"Начало"}),e.jsx("th",{scope:"col",children:"Конец"}),e.jsx("th",{scope:"col",children:"Веники"}),e.jsx("th",{scope:"col",children:"Полотенца"}),e.jsx("th",{scope:"col",children:"Шапки"}),e.jsx("th",{scope:"col",children:"Простыни"}),e.jsxs("th",{scope:"col",onClick:()=>i("price"),className:"sortable",children:["Цена",e.jsx(n,{icon:c==="price"&&l==="asc"?o:d,className:"sort-icon",title:"Сортируй по цене"})]}),e.jsxs("th",{scope:"col",onClick:()=>i("discount"),className:"sortable",children:["Акция",e.jsx(n,{icon:c==="discount"&&l==="asc"?o:d,className:"sort-icon",title:"Сортируй по акции"})]})]})}),e.jsx("tbody",{children:x.map(t=>e.jsxs("tr",{children:[e.jsx("td",{"data-label":"Дата",children:new Date(t.booking_date).toLocaleDateString("ru-RU")}),e.jsx("td",{"data-label":"Начало",children:new Date(t.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),e.jsx("td",{"data-label":"Конец",children:new Date(t.end_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),e.jsx("td",{"data-label":"Веники",children:t.broom?t.broom_quantity:e.jsx("span",{className:"not-selected",children:"0"})}),e.jsx("td",{"data-label":"Полотенца",children:t.towel?t.towel_quantity:e.jsx("span",{className:"not-selected",children:"0"})}),e.jsx("td",{"data-label":"Шапки",children:t.hat?t.hat_quantity:e.jsx("span",{className:"not-selected",children:"0"})}),e.jsx("td",{"data-label":"Простыни",children:t.sheets?t.sheets_quantity:e.jsx("span",{className:"not-selected",children:"0"})}),e.jsxs("td",{"data-label":"Цена",children:[t.price," ₽"]}),e.jsx("td",{"data-label":"Акция",children:t.discount_status})]},t.booking_id))})]}):e.jsx("div",{className:"empty-container",children:e.jsx("p",{className:"empty-list",children:"Бронирований нет."})})})}export{D as default};
